# =============================================================================
# Project Configuration File
# Bangkok Traffic Congestion Index Prediction
# =============================================================================

project:
  name: "CPE312 Capstone - Bangkok Traffic Congestion Index Prediction"
  version: "2.0"
  created: "2025-11-16"
  updated: "2025-11-23"
  duration_weeks: 12

# =============================================================================
# PATHS
# =============================================================================
paths:
  raw_data: "./02_Data/Raw"
  processed_data: "./02_Data/Processed"
  notebooks: "./03_Notebooks"
  scripts: "./04_Scripts"
  documentation: "./05_Documentation"
  configs: "./06_Configuration"
  results: "./07_Results"
  logs: "./logs"

# =============================================================================
# DATA SOURCES (Focused Scope)
# =============================================================================
data:
  datasets:
    - name: "Bangkok Traffic Congestion Index"
      type: "timeseries"
      source: "CEIC / TrafficIndex.org"
      frequency: "daily"
      years: [2019, 2020, 2021, 2022, 2023, 2024, 2025]
      records: 1682
      file: "bangkok_traffic_cleaned.csv"
    
    - name: "Bangkok Weather Data"
      type: "timeseries"
      source: "NOAA/NASA"
      frequency: "daily"
      file: "bangkok_weather_cleaned.csv"

# =============================================================================
# DATA PROCESSING
# =============================================================================
processing:
  # Data Cleaning
  cleaning:
    remove_duplicates: true
    handle_missing:
      method: "interpolation"
      limit: 7  # consecutive NaN limit
    outlier_detection:
      method: "iqr"
      iqr_multiplier: 1.5
  
  # Feature Engineering
  features:
    temporal:
      - dayofweek
      - month
      - is_weekend
      - is_holiday
      - day_sin
      - day_cos
      - month_sin
      - month_cos
    
    weather:
      - temperature
      - humidity
      - precipitation
  
  # Normalization
  normalization:
    enabled: true
    method: "standardscaler"
    columns_to_normalize:
      - "congestion_index"
      - "temperature"
      - "humidity"
      - "precipitation"

# =============================================================================
# MODELING
# =============================================================================
modeling:
  # Data Splits
  train_ratio: 0.60
  validation_ratio: 0.20
  test_ratio: 0.20
  temporal_split: true
  random_seed: 42
  
  # Active Models (In Scope)
  models:
    - name: "Random Forest"
      type: "ensemble"
      active: true
      hyperparameters:
        n_estimators: 100
        max_depth: 15
        min_samples_split: 5
        min_samples_leaf: 2
    
    - name: "XGBoost"
      type: "gradient_boosting"
      active: true
      hyperparameters:
        n_estimators: 100
        max_depth: 6
        learning_rate: 0.1
        subsample: 0.8
        colsample_bytree: 0.8
    
    - name: "Linear Regression"
      type: "baseline"
      active: true
      hyperparameters: {}
  
  # Target Metrics
  evaluation:
    target_metrics:
      rmse: 15  # < 15
      mae: 10   # < 10
      r2: 0.70  # > 0.70
    
    metrics_to_compute:
      - "mae"
      - "rmse"
      - "r2"

# =============================================================================
# VISUALIZATION
# =============================================================================
visualization:
  style: "seaborn-v0_8-darkgrid"
  figure:
    dpi: 300
    figsize: [12, 8]
    save: true
    format: "png"
  
  plots:
    - "congestion_timeseries"
    - "weekly_patterns"
    - "weather_correlation"
    - "model_predictions"
    - "feature_importance"

# =============================================================================
# OUTPUT
# =============================================================================
output:
  report:
    format: "markdown"
    include_figures: true
  
  artifacts:
    save_models: true
    save_preprocessors: true
    save_results: true
    save_figures: true

# =============================================================================
# LOGGING
# =============================================================================
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "./logs/capstone.log"
